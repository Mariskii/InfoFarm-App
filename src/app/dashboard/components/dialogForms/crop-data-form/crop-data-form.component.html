<form [formGroup]="formCropData"  class="h-fit flex flex-col mt-5 space-y-6">
  <p-floatLabel>
    <p-autoComplete
        class="w-full"
        styleClass="h-[40px]"
        [suggestions]="suggestions"
        [field]="'cropName'"
        [delay]="1000"
        inputStyleClass="w-full bg-gray-200 p-2"
        [style]="{'width':'100%'}"
        (onSelect)="selectCrop($event)"
        (completeMethod)="search($event)" />
    <label for="username">Cultivo</label>
  </p-floatLabel>

  @if (cropSelected) {
    <div>
      <p>Cultivo seleccionado:</p>
      <div class="flex justify-between items-center w-full bg-gray-200 rounded-md p-2">
        <img [src]="cropSelected.cropImage || '../../../../../assets/no-image.png'" width="50" height="50" [alt]="cropSelected.cropName">
        <p>{{ cropSelected.cropName }}</p>
      </div>
    </div>
  }

  <p-floatLabel class="w-full">
    <input
      id="kiloPrice"
      formControlName="kiloPrice"
      pInputText
      class="h-[40px] bg-gray-200"
      [style]="{'width': '100%', 'padding':'10px'}"/>
    <label for="username">Precio por Kg</label>
  </p-floatLabel>

  <p-floatLabel class="w-full">
    <input
      id="kilos"
      formControlName="kilos"
      pInputText
      class="h-[40px] bg-gray-200"
      [style]="{'width': '100%', 'padding':'10px'}"/>
    <label for="username">Kilos</label>
  </p-floatLabel>

  <p-floatLabel class="w-full">
    <input
      id="cost"
      formControlName="cost"
      pInputText
      class="h-[40px] bg-gray-200"
      [style]="{'width': '100%', 'padding':'10px'}"/>
    <label for="cost">Coste</label>
  </p-floatLabel>

  <p-floatLabel>
    <p-calendar
      id="plantationDate"
      appendTo="body"
      formControlName="collectionDate"
      [iconDisplay]="'input'"
      [showIcon]="true"
      inputStyleClass="w-full bg-gray-200 p-2"
      inputId="icondisplay"
      dateFormat="dd/mm/yyyy"/>
    <label for="plantationDate">Fecha de plantación</label>
  </p-floatLabel>

  <p-floatLabel>
    <p-calendar
      id="collectionDate"
      formControlName="collectionDate"
      appendTo="body"
      [iconDisplay]="'input'"
      inputStyleClass="w-full bg-gray-200 p-2"
      [showIcon]="true"
      inputId="icondisplay" />
    <label for="collectionDate">Fecha de recolección</label>
  </p-floatLabel>

  <button
    class="flex justify-center bg-green-500 text-white w-full p-2"
    pButton>
    Crear
  </button>
</form>
